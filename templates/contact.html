{% extends "base.html" %}
{% block content %}

<!-- page container -->
<div class="uk-flex-middle uk-width-1-1 contact__background" uk-grid>
    <section class="contact__section uk-section uk-align-center">
        <!-- image container -->
        <div class="uk-width-1-1 center-align">
            <img data-src="/static/images/blog-images/hello.jpg" class="main-contact__img" width="600" alt="Image of hello sign" uk-img>
        </div>
        <!-- contact form -->
        <form id="contact-form" class="uk-margin-medium-top uk-center-align center-align contact__form">
            <fieldset class="uk-fieldset">
                <!-- form header -->
                <legend class="uk-legend center-align contact__header">Send Us A Message</legend>
                <!-- form name input -->
                <div class="uk-margin center-align">
                    <label for="user_name">Name</label>
                    <input class="uk-input form__input" id="user_name" minlength="5" maxlength="50" type="text" placeholder="Name" required>
                </div>
                <!-- form email input -->
                <div class="uk-margin center-align">
                    <label for="user_email">Email</label>
                    <input class="uk-input form__input" type="email" id="user_email" minlength="5" maxlength="50" placeholder="Email" required>
                </div>
                <!-- form message input -->
                <div class="uk-margin center-align">
                    <label for="message">Message</label>
                    <textarea class="uk-textarea form__input" type="text" id="message" rows="5" minlength="5" maxlength="500" placeholder="Your Message..." required></textarea>
                </div>
                <!-- submit button -->
                <button type="submit" class="uk-button uk-button-secondary uk-align-center uk-border-rounded">Submit</button>
                
                <div id="email-response" class="email-response center-align"></div>

            </fieldset>
        </form>
    </section>

</div>

{% endblock %}

{% block scripts %} 

<script src="https://cdn.jsdelivr.net/npm/emailjs-com@2/dist/email.min.js"></script>

<script>
    (function() {
    emailjs.init("user_1B6GV9ph5G756D7ZIJMM0");
    })();
</script>

<script>

const response = document.getElementById("email-response");

window.onload = function() {
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            emailjs.sendForm('service_i7yn20o', 'contact_form', this)
                .then(function() {
                    response.innerHTML = "Thanks, our team will get back to you shortly!";
                }, function(error) {
                    response.innerHTML = "Unfortunately there was an error, please try again later.";
                });

                document.getElementById("contact-form").reset();
                return false;
        });
    }

</script>

{% endblock%}